---
issue: 407
title: Date and time trigger format appends incorrectly rendering in preview
url: https://github.com/mgmeyers/obsidian-kanban/issues/407
author: verazorita
created: 2021-12-11T19:34:57Z
os: Windows
status: verified
investigation_notes: "Custom date/time format with Dataview-compatible brackets shows extra closing bracket in preview. User is adding '[ ]' to make dates Dataview-readable, but rendering shows unbalanced bracket. Issue in how the date format is parsed/displayed in the card preview."
fix_attempted: false
fix_pr: ""
---

## Description

### Describe the bug

Hi, inspired by the [Obsidian Forum thread](https://forum.obsidian.md/t/task-management-devs-define-a-shared-date-and-action-format/26464), I added an append to the Kanban settings so Dataview can register the task via [inline](https://blacksmithgu.github.io/obsidian-dataview/data-annotation/#tasks).


My settings currenly look like this:
![imagen](https://user-images.githubusercontent.com/75331117/145688759-f5040cfb-5f7e-4edf-b389-95be93af821d.png)
_I added an `[ ]` append to both date and time so line could be rendered by dataview._


This output the following:
![imagen](https://user-images.githubusercontent.com/75331117/145688668-96e72cda-b223-43dc-85ff-1c3a48fb2f90.png)
_Kanban renders it as desired, hooray!_


![imagen](https://user-images.githubusercontent.com/75331117/145689236-3ec17445-8dc5-447d-9455-6807bbd1fe41.png)
_After checking with a sample Dataview query to test this, it works! We have Dataview Inline!_


But, funnyly enough, the kanban board preview adds an unexpected character:
![imagen](https://user-images.githubusercontent.com/75331117/145688671-3b97bfc2-51ab-4143-a651-e325267cd7d1.png)
_Okay, that happened. Escaping the character or using parenthesis instead doesn't work either._

So, here we are. I'm asking for either:
- a) Review why this happens: a closing bracket has gone akimbo!
- b) Official support: A toggleable option to automatically add brackets grants full Dataview Inline support.

---


**Story**
_When I'm setting date and time format in Kanban,
I want to make it readable by Dataview inline,
So can I set lists on daily notes that link to the relevant tasks._

**Success criteria**
The user can preset custom queries compatible with Dataview Inline.

### Expected Behavior

The closing bracket shouldn't be visible.

### Steps to reproduce

Set kanban settings to fit a Dataview Inline viable query, create some tasks and preview them in the kanban board.

### Relevant errors (if available)

_No response_

### Operating system

Windows

## Investigation Notes
<!-- To be filled during triage -->

## Fix Attempts
<!-- Document any attempted fixes -->

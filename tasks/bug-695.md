---
issue: 695
title: Local Setting maximum number of archived card doesn't work
url: https://github.com/mgmeyers/obsidian-kanban/issues/695
author: GustavoSZ124
created: 2022-12-14T06:01:23Z
os: Windows
status: verified
investigation_notes: "Local board setting 'max-archive-length' doesn't override global setting. Settings inheritance issue - getSetting may not properly check local value before falling back to global. Check how max-archive-length is retrieved in archive display code."
fix_attempted: false
fix_pr: ""
---

## Description

### Describe the bug

The Kanban Table doesn't take its local setting `maximum number of archived cards`, only takes the global value.

![image](https://user-images.githubusercontent.com/30422122/207518261-77e2fe5d-8189-4c23-8354-edfc9622e979.png)
My global settings with `maximum number of archived cards` = -1.

![image](https://user-images.githubusercontent.com/30422122/207516990-36f1ca4f-7049-461a-8a10-7383e145de37.png)
Local settings, `maximum number of archived cards` = 1.

![image](https://user-images.githubusercontent.com/30422122/207517169-ea92d73d-8d6c-4b2f-a25c-91410271f613.png)
It appears three archived cards when it should appear only one.

Also if you put the value `-1` it seams like an error when it is a valid value
![image](https://user-images.githubusercontent.com/30422122/207517652-aa6d27df-c270-446d-83e1-5fcbbd9fc9c9.png)


### Expected Behavior

The Kanban Table should take its local setting `maximum number of archived cards` and override the global value. Also if you put the value `-1` it shouldn't seam like an error because it is a valid value.

### Steps to reproduce

Only create a Kanban Table and change its local setting `maximum number of archived cards` to another value. Then create some tasks and archived them.

The Kanban Table take the global value instead of the local value and it appears all the archived tasks when it should appear the number you set.

This is weird because other local settings like `list width` works fine but the Kanban Table doesn't recognize local setting `maximum number of archived cards`.

### Relevant errors (if available)

_No response_

### Operating system

Windows

## Investigation Notes
<!-- To be filled during triage -->

## Fix Attempts
<!-- Document any attempted fixes -->
